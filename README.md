# Zipping the Project

zip the folder

## Pushing the zip to the server:

push it to the server with `scp -r zipfolder.zip ssh:~/`

## Unzip the folder in the server

`unzip zipfolderfile.zip`

# Start a New Tmux session

`tmux new -s session_name`

# Attach to a Tmux session

`tmux a -t session_name`

# Allow people to access the port

`sudo ufw allow portname`

# Allow you to copy things from remote to server

`sudo chown -R username folder`
`sudo chmod 777 folder`

## Setting up a reverse proxy on the server

`sudo nano /etc/nginx/sites-available/example.com`

Here copy this and change it according to your site name and port

`##

# You should look at the following URL's in order to grasp a solid understanding

# of Nginx configuration files in order to fully unleash the power of Nginx.

# http://wiki.nginx.org/Pitfalls

# http://wiki.nginx.org/QuickStart

# http://wiki.nginx.org/Configuration

#

# Generally, you will want to move this file somewhere, and start with a clean

# file but keep this around for reference. Or just disable in sites-enabled.

#

# Please see /usr/share/doc/nginx-doc/examples/ for more detailed examples.

##

upstream foldername {
server 127.0.0.1:port;
}

# Default server configuration

#

server {

    # SSL configuration
    #
    # listen 443 ssl default_server;
    # listen [::]:443 ssl default_server;
    #
    # Note: You should disable gzip for SSL traffic.
    # See: https://bugs.debian.org/773332
    #
    # Read up on ssl_ciphers to ensure a secure configuration.
    # See: https://bugs.debian.org/765782
    #
    # Self signed certs generated by the ssl-cert package
    # Don't use them in a production server!
    #
    # include snippets/snakeoil.conf;

    root /var/www/site.com/html;

    # Add index.php to the list if you are using PHP
    index index.php index.html index.htm index.nginx-debian.html;

    server_name site.com www.site.com;

    location / {
    allow all;

    # Proxy Headers
    proxy_http_version 1.1;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header Host $http_host;
    proxy_set_header X-Cluster-Client-Ip $remote_addr;

    # WebSockets
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";

    proxy_pass http://site;
    }

    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
    #
    location ~ \.php$ {
    	include snippets/fastcgi-php.conf;
    #
    #	# With php7.0-cgi alone:
    #	fastcgi_pass 127.0.0.1:9000;
    #	# With php7.0-fpm:
    	fastcgi_pass unix:/run/php/php7.0-fpm.sock;
    	include fastcgi_params;
    	fastcgi_read_timeout 300;
    }

    # deny access to .htaccess files, if Apache's document root
    # concurs with nginx's one
    #
    location ~ /\.ht {
    	deny all;
    }

# managed by Certbot

    listen 443 ssl; # managed by Certbot
    ssl_certificate /etc/letsencrypt/live/site.com/fullchain.pem; # managed by Certbot
    ssl_certificate_key /etc/letsencrypt/live/site.com/privkey.pem; # managed by Certbot
    include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
    ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot

}

# Virtual Host configuration for example.com

#

# You can move that to a different file under sites-available/ and symlink that

# to sites-enabled/ to enable it.

#

#server {

# listen 80;

# listen [::]:80;

#

# server_name site.com www.site.com;

#

# root /var/www/example.com;

# index index.html;

#

# location / {

# try_files $uri $uri/ =404;

# }

#}

server {
if ($host = www.site.com) {
        return 301 https://$host$request_uri;
} # managed by Certbot

    if ($host = site.com) {
        return 301 https://$host$request_uri;
    } # managed by Certbot



    server_name thekultureke.com www.thekultureke.com;
    listen 80;
    return 404; # managed by Certbot

}`

https://github.com/MICHAELMUNAVU83/all_things_social/assets/86654131/6afb0a55-e121-4dd9-ba61-115dad69ffdb

## Restart Nginx

`sudo systemctl restart nginx`

## Adding An SSL Certificate , we first add Certbort

`sudo add-apt-repository ppa:certbot/certbot`

`sudo apt-get update`

`sudo apt-get install python-certbot-nginx`

## Now we add the certificate

`sudo certbot --nginx -d example.com -d www.example.com`

## Credits

ðŸ‘¤ **MICHAEL MUNAVU**

- GitHub: [@githubhandle](https://github.com/MICHAELMUNAVU83)
- Twitter: [@twitterhandle](https://twitter.com/MichaelTrance1)
- LinkedIn: [LinkedIn](https://www.linkedin.com/in/michael-munavu-78703a218/)
